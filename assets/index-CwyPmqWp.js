import{A as T,d as V,c,r as B,B as D,C as U,_ as H,e as n,o as C,f as A,g as a,w as o,F as w,h as k,j as S,l as O}from"./index-Io1GTUiJ.js";const N=(m,l)=>T.get(`/admin/product/baseTrademark/${m}/${l}`),j=V({__name:"index",setup(m,{expose:l}){l();const i=c(1),e=c(3),p=c(0),_=c([]),r=c(!1),s=B({tmName:"",logoUrl:""}),g="http://sph-api.atguigu.cn/admin/product/fileUpload",d=async(t=1)=>{i.value=t;const F=await N(i.value,e.value);p.value=F.data.total,_.value=F.data.records};D(()=>{d()});const u={pageOn:i,pageSize:e,total:p,hasTrademarkArr:_,dialogVisible:r,trademarkForm:s,action:g,getHasTrademark:d,handleSizeChange:()=>{d()},addHasTrademark:()=>{r.value=!0},editHasTrademark:()=>{r.value=!0},cancel:()=>{r.value=!1},confirm:()=>{r.value=!1},handleAvatarSuccess:t=>{s.logoUrl=t.data},beforeAvatarUpload:t=>t.type!=="image/jpeg"&&t.type!=="image/png"&&t.type!=="image/gif"?(U.error("上传的图片必须是jpeg|png|gif格式!"),!1):t.size/1024/1024>4?(U.error("上传图片大小请勿超过4MB!"),!1):!0};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),E=["src"],P=["src"],M={class:"dialog-footer"};function q(m,l,i,e,p,_){const r=n("el-button"),s=n("el-table-column"),g=n("el-table"),d=n("el-pagination"),b=n("el-card"),v=n("el-input"),f=n("el-form-item"),h=n("Plus"),y=n("el-icon"),x=n("el-upload"),z=n("el-form"),u=n("el-dialog");return C(),A(w,null,[a(b,null,{default:o(()=>[a(r,{type:"primary",icon:"Plus",onClick:e.addHasTrademark},{default:o(()=>[k("添加品牌")]),_:1}),a(g,{data:e.hasTrademarkArr,border:"",style:{margin:"10px 0"}},{default:o(()=>[a(s,{align:"center",label:"序号",width:"80px",type:"index"}),a(s,{label:"品牌名称",prop:"tmName"}),a(s,{label:"品牌LOGO"},{default:o(({row:t})=>[S("img",{style:{height:"100px",width:"100px"},src:t.logoUrl,alt:""},null,8,E)]),_:1}),a(s,{label:"品牌操作"},{default:o(({})=>[a(r,{size:"small",icon:"Edit",type:"warning",onClick:e.editHasTrademark}),a(r,{size:"small",icon:"Delete",type:"danger"})]),_:1})]),_:1},8,["data"]),a(d,{"current-page":e.pageOn,"onUpdate:currentPage":l[0]||(l[0]=t=>e.pageOn=t),"page-size":e.pageSize,"onUpdate:pageSize":l[1]||(l[1]=t=>e.pageSize=t),background:"","page-sizes":[3,5,8,10],layout:"prev, pager, next, jumper, ->, sizes, total",total:e.total,onSizeChange:e.handleSizeChange,onCurrentChange:e.getHasTrademark},null,8,["current-page","page-size","total"])]),_:1}),a(u,{modelValue:e.dialogVisible,"onUpdate:modelValue":l[3]||(l[3]=t=>e.dialogVisible=t),title:"添加品牌"},{footer:o(()=>[S("div",M,[a(r,{onClick:e.cancel},{default:o(()=>[k(" 取消 ")]),_:1}),a(r,{type:"primary",onClick:e.confirm},{default:o(()=>[k(" 确认 ")]),_:1})])]),default:o(()=>[a(z,{"label-position":"left",style:{width:"80%"}},{default:o(()=>[a(f,{label:"品牌名称","label-width":"80px"},{default:o(()=>[a(v,{modelValue:e.trademarkForm.tmName,"onUpdate:modelValue":l[2]||(l[2]=t=>e.trademarkForm.tmName=t),placeholder:"请输入品牌名称"},null,8,["modelValue"])]),_:1}),a(f,{label:"品牌LOGO","label-width":"80px"},{default:o(()=>[a(x,{class:"avatar-uploader",action:e.action,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload},{default:o(()=>[e.trademarkForm.logoUrl?(C(),A("img",{key:0,src:e.trademarkForm.logoUrl,class:"avatar"},null,8,P)):(C(),O(y,{key:1,class:"avatar-uploader-icon"},{default:o(()=>[a(h)]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const L=H(j,[["render",q],["__scopeId","data-v-693ad49d"],["__file","C:/Users/Administrator/Desktop/vue3_ts_template/project/src/views/product/trademark/index.vue"]]);export{L as default};
